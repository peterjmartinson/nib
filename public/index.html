<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="./css/style.css" media="all">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <title>Nib | PJM</title>
</head>
<body>

    <div class="left-wrapper">
      <div class="top-left"></div>
      <div class="bottom-left">
        <ul class="note-list">
          <li id="test1" onclick="handler.getNote(id)">
            <span class="list-title">This is the first note</span>
            <br>
            <span class="list-date">May 17, 2018</span>
          </li>
          <li id="test2" onclick="handler.getNote(id)">
            <span class="list-title">This is another note title</span>
            <br>
            <span class="list-date">May 18, 2018</span>
          </li>
          <li id="test3" onclick="handler.getNote(id)">
            <span class="list-title">This is yet another note title</span>
            <br>
            <span class="list-date">May 19, 2018</span>
          </li>
          <li id="test3" onclick="handler.getNote(id)">
            <span class="list-title">This is yet another note title</span>
            <br>
            <span class="list-date">May 19, 2018</span>
          </li>
          <li id="test3" onclick="handler.getNote(id)">
            <span class="list-title">This is yet another note title</span>
            <br>
            <span class="list-date">May 19, 2018</span>
          </li>
          <li id="test3" onclick="handler.getNote(id)">
            <span class="list-title">This is yet another note title</span>
            <br>
            <span class="list-date">May 19, 2018</span>
          </li>
          <li id="test3" onclick="handler.getNote(id)">
            <span class="list-title">This is yet another note title</span>
            <br>
            <span class="list-date">May 19, 2018</span>
          </li>
          <li id="test3" onclick="handler.getNote(id)">
            <span class="list-title">This is yet another note title</span>
            <br>
            <span class="list-date">May 19, 2018</span>
          </li>
          <li id="test3" onclick="handler.getNote(id)">
            <span class="list-title">This is yet another note title</span>
            <br>
            <span class="list-date">May 19, 2018</span>
          </li>
          <li id="test3" onclick="handler.getNote(id)">
            <span class="list-title">This is yet another note title</span>
            <br>
            <span class="list-date">May 19, 2018</span>
          </li>
          <li id="test3" onclick="handler.getNote(id)">
            <span class="list-title">This is yet another note title</span>
            <br>
            <span class="list-date">May 19, 2018</span>
          </li>
          <li id="test3" onclick="handler.getNote(id)">
            <span class="list-title">This is yet another note title</span>
            <br>
            <span class="list-date">May 19, 2018</span>
          </li>
          <li id="test3" onclick="handler.getNote(id)">
            <span class="list-title">This is yet another note title</span>
            <br>
            <span class="list-date">May 19, 2018</span>
          </li>
          <li id="test3" onclick="handler.getNote(id)">
            <span class="list-title">This is yet another note title</span>
            <br>
            <span class="list-date">May 19, 2018</span>
          </li>
          <li id="test3" onclick="handler.getNote(id)">
            <span class="list-title">This is yet another note title</span>
            <br>
            <span class="list-date">May 19, 2018</span>
          </li>
          <li id="test3" onclick="handler.getNote(id)">
            <span class="list-title">This is yet another note title</span>
            <br>
            <span class="list-date">May 19, 2018</span>
          </li>
          <li id="test3" onclick="handler.getNote(id)">
            <span class="list-title">This is yet another note title</span>
            <br>
            <span class="list-date">May 19, 2018</span>
          </li>
          <li id="test3" onclick="handler.getNote(id)">
            <span class="list-title">This is yet another note title</span>
            <br>
            <span class="list-date">May 19, 2018</span>
          </li>
          <li id="test3" onclick="handler.getNote(id)">
            <span class="list-title">This is yet another note title</span>
            <br>
            <span class="list-date">May 19, 2018</span>
          </li>
          <li id="test3" onclick="handler.getNote(id)">
            <span class="list-title">This is yet another note title</span>
            <br>
            <span class="list-date">May 19, 2018</span>
          </li>
          <li id="test3" onclick="handler.getNote(id)">
            <span class="list-title">This is the last note</span>
            <br>
            <span class="list-date">May 19, 2018</span>
          </li>
        </ul>
      </div> <!-- end bottom-left -->
    </div> <!-- end left-wrapper -->

    <div class="right-wrapper">
      <div class="top-right">
        <!-- <div class="splash">Title Splash</div> -->
        <div class="title-controls">
          <div class="controls">
            <div class="new-note">Create Note</div>
            <div class="save-note">Save Note</div>
          </div>
        </div>
          <div class="other-stuff"></div>
      </div> <!-- end top-right -->
      <div class="bottom-right">
        <div id="cowport"></div>
        <textarea id="edit-note">
    
    What happens when you click on a note?
    1. button/link sends the element id (i.e. note._id) to the click handler (controller?  view?)
    2. The note display routine first sends the ID to a routine that actually retreives the note (model?)
    3. The find note routine sends some appropriate query to the data layer (model? storage?)
    4. The data layer sends the entire note contents back to the 'find note' routine (model? storage?)
    5. The find note routine sends the note contents to the display routine (controller? view?)
    6. The display routine formats the note contents into whatever the end display requires
    7. The display routine sends the formatted note contents into the <textarea>
    8. The display routine sets the ID of the currently edited note

    *click*
    -> View (do something with the click)
      view.editExistingNote(id) - called directly from index.html
      inside editExistingNote:
      1. highlight the selected note <li>
      2. pass the ID to the controller
    -> Controller (send the ID to the model)
      ctrl.editExistingNote(id)
      inside editExistingNote:
      1. pass the ID to the model
      2. catch the resulting record in a callback
      3. send the note to view.displayEditedNote()
    -> Model (send the ID in a query to the data store)
      model.getOneNote(id)
      inside getOneNote:
      1. pass the ID to storage.findOneById()
      2. catch the resulting record in a callback
      3. send the record back to ctrl.editExistingNote()
    -> Storage (retrieve the record, send back to Model)
      store.findOneById(id)
      inside findOneById:
      1. either get a record from the storage array, or use Ajax to get it from the server database
      2. catch record in a callback
      3. send record back to model.getOneNote()
    -> Model (send the record to the controller)
      model.displayEditedNote(record)
      inside displayEditedNote:
      1. deal with a nonexistent note
      2. pass the note text into the &lt;textarea&gt;
      3. update edited_note_id, or some relatively global ID flag
        </textarea>
      </div> <!-- end bottom-right -->
    </div> <!-- end right-wrapper -->

    <footer>
      <div class="copyright">
        Copyright 2017
        <span>Peter J. Martinson</span>
      </div>
      <div class="contact">
        Contact
        <span>
          <a href="mailto:peter.j.martinson@gmail.com">
            peter.j.martinson@gmail.com
          </a>
        </span>
      </div>
      <div class="navigation">
        Navigation
        <span>
          <a href="https://peterjmartinson.github.io/index.html">Home </a>&#151;
          <a href="http://stonetelescope.wordpress.com" target="_blank">Stories </a>&#151;
          <a href="https://twitter.com/StoneTelescope" target="_blank">Twitter</a>
        </span>
      </div>
    </footer>

  <script src="./data/notes.js"></script>
  <script src="./data/model.js"></script>
  <script src="./js/ajax.js"></script>
  <script src="./js/handler.js"></script>
  <script src="./js/nib.js"></script>
</body>
</html>
